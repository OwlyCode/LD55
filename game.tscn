[gd_scene load_steps=12 format=3 uid="uid://d0bhst7mxaeo0"]

[ext_resource type="Script" path="res://GameController.gd" id="1_5damq"]
[ext_resource type="Texture2D" uid="uid://dvc2l35t8t1uo" path="res://assets/hero.png" id="2_krm4d"]
[ext_resource type="AudioStream" uid="uid://bliamn7ens85b" path="res://assets/beat.mp3" id="3_eno22"]
[ext_resource type="Script" path="res://Hero.gd" id="3_ra3nm"]
[ext_resource type="Script" path="res://TimeDisplay.gd" id="4_dm4ck"]
[ext_resource type="FontFile" uid="uid://6ovh0s5ogn73" path="res://assets/Unutterable-Regular.ttf" id="6_gg3qu"]

[sub_resource type="CircleShape2D" id="CircleShape2D_0cmyx"]
radius = 6.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8bcqp"]
size = Vector2(6, 18)

[sub_resource type="Curve" id="Curve_dygca"]
_data = [Vector2(0.119298, 0.287821), 0.0, 1.97023, 0, 0, Vector2(1, 0.983565), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_4i0eo"]
bg_color = Color(0, 0.6, 0.0196078, 0.658824)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_6nblo"]
bg_color = Color(0.6, 0.0705882, 0, 0.658824)

[node name="Game" type="Node2D"]
script = ExtResource("1_5damq")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(210, 191)
zoom = Vector2(2, 2)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_eno22")
autoplay = true

[node name="AudioListener2D" type="AudioListener2D" parent="."]

[node name="Hero" type="CharacterBody2D" parent="."]
z_index = 1
position = Vector2(209, 238)
motion_mode = 1
script = ExtResource("3_ra3nm")

[node name="Hero" type="Sprite2D" parent="Hero"]
texture_filter = 1
rotation = 1.5708
texture = ExtResource("2_krm4d")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hero"]
shape = SubResource("CircleShape2D_0cmyx")

[node name="CleanerDetection" type="Area2D" parent="Hero"]
collision_layer = 2
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hero/CleanerDetection"]
position = Vector2(5, 0)
shape = SubResource("RectangleShape2D_8bcqp")

[node name="DriftSmoke" type="CPUParticles2D" parent="Hero"]
emitting = false
amount = 16
gravity = Vector2(0, -20)
scale_amount_min = 4.0
scale_amount_max = 4.0
scale_amount_curve = SubResource("Curve_dygca")

[node name="DashParticles" type="CPUParticles2D" parent="Hero"]
rotation = -3.11911
emitting = false
amount = 20
emission_shape = 3
emission_rect_extents = Vector2(1, 10)
spread = 12.16
gravity = Vector2(0, 0)
initial_velocity_min = 50.0
initial_velocity_max = 50.0

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Label" type="Label" parent="CanvasLayer"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -32.5
offset_top = -23.0
offset_right = 32.5
grow_horizontal = 2
grow_vertical = 0
theme_override_colors/font_color = Color(1, 0.0156863, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 1
theme_override_font_sizes/font_size = 30
text = "TIME: 00"
script = ExtResource("4_dm4ck")

[node name="Victory" type="Panel" parent="CanvasLayer"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_4i0eo")

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/Victory"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -288.5
offset_top = -37.5
offset_right = 288.5
offset_bottom = 37.5
grow_horizontal = 2
grow_vertical = 2
alignment = 1

[node name="HFlowContainer2" type="HFlowContainer" parent="CanvasLayer/Victory/VBoxContainer"]
layout_mode = 2
alignment = 1

[node name="RichTextLabel" type="RichTextLabel" parent="CanvasLayer/Victory/VBoxContainer/HFlowContainer2"]
custom_minimum_size = Vector2(600, 70)
layout_mode = 2
theme_override_colors/default_color = Color(0, 1, 0.0470588, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 3
theme_override_fonts/normal_font = ExtResource("6_gg3qu")
theme_override_font_sizes/normal_font_size = 60
bbcode_enabled = true
text = "[center][wave]DEMON SEALED[/wave][/center]
"

[node name="HFlowContainer3" type="HFlowContainer" parent="CanvasLayer/Victory/VBoxContainer"]
layout_mode = 2
alignment = 1

[node name="Label" type="Label" parent="CanvasLayer/Victory/VBoxContainer/HFlowContainer3"]
layout_mode = 2
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 3
theme_override_font_sizes/font_size = 26
text = "See you in a thousand years, looser!"

[node name="HFlowContainer" type="HFlowContainer" parent="CanvasLayer/Victory/VBoxContainer"]
layout_mode = 2
alignment = 1

[node name="Button" type="Button" parent="CanvasLayer/Victory/VBoxContainer/HFlowContainer"]
layout_mode = 2
text = "Continue"

[node name="Defeat" type="Panel" parent="CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_6nblo")

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/Defeat"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -288.5
offset_top = -37.5
offset_right = 288.5
offset_bottom = 37.5
grow_horizontal = 2
grow_vertical = 2
alignment = 1

[node name="HFlowContainer2" type="HFlowContainer" parent="CanvasLayer/Defeat/VBoxContainer"]
layout_mode = 2
alignment = 1

[node name="RichTextLabel" type="RichTextLabel" parent="CanvasLayer/Defeat/VBoxContainer/HFlowContainer2"]
custom_minimum_size = Vector2(600, 70)
layout_mode = 2
theme_override_colors/default_color = Color(1, 0, 0.054902, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 3
theme_override_fonts/normal_font = ExtResource("6_gg3qu")
theme_override_font_sizes/normal_font_size = 60
bbcode_enabled = true
text = "[center][wave]DEMON RELEASED[/wave][/center]
"

[node name="HFlowContainer3" type="HFlowContainer" parent="CanvasLayer/Defeat/VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="CanvasLayer/Defeat/VBoxContainer/HFlowContainer3"]
layout_mode = 2
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 3
theme_override_font_sizes/font_size = 26
text = "Meh. Global warming had doomed us already."

[node name="HFlowContainer" type="HFlowContainer" parent="CanvasLayer/Defeat/VBoxContainer"]
layout_mode = 2
alignment = 1

[node name="Button" type="Button" parent="CanvasLayer/Defeat/VBoxContainer/HFlowContainer"]
layout_mode = 2
text = "Restart level"
